<form hx-post="{% url 'frontend:clients_assign_package' client.id %}"
      hx-target="#modal-content"
      hx-swap="outerHTML"
      hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
      class="space-y-4">
    
    <div>
        <label for="package" class="block text-sm font-medium text-gray-700 mb-1">Package</label>
        <select name="package" id="package" required
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
            <option value="">Select a package</option>
            {% for package in packages %}
            <option value="{{ package.id }}">{{ package.name }} - ${{ package.price|floatformat:2 }} ({{ package.sessions_count }} sessions)</option>
            {% endfor %}
        </select>
    </div>
    
    <div>
        <label for="expiry_date" class="block text-sm font-medium text-gray-700 mb-1">Expiry Date (optional)</label>
        <input type="date" name="expiry_date" id="expiry_date"
               class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
    </div>
    
    <div class="flex justify-end gap-3 pt-4">
        <button type="button"
                @click="window.dispatchEvent(new CustomEvent('close-modal'))"
                class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200">
            Cancel
        </button>
        <button type="submit"
                class="px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700">
            Assign Package
        </button>
    </div>
</form>

